+function(t){"use strict";function i(){var i=arguments,o=t(this).data("grid.affix");if("object"==typeof i[0]){var f=i[0],n=t.extend({},e.DEFAULTS,f),s=t(n.element||this);return s.each(function(){var i=t(this);i.data("grid.affix",o=new e(this,n))})}"string"==typeof i[0]&&o&&o[i[0]]()}var e=function(i,e){this.options=e,this.$element=t(i),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.$target=t(this.options.target).on("scroll.grid.affix",t.proxy(this.checkPosition,this)).on("click.grid.affix",t.proxy(this.checkPositionWithEventLoop,this)),this.checkPosition()};e.VERSION="2.0.0",e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0,target:window},e.prototype.getState=function(t,i,e,o){var f=this.$target.scrollTop(),n=this.$element.offset(),s=this.$target.height();if(null!=e&&"top"==this.affixed)return e>f?"top":!1;if("bottom"==this.affixed)return null!=e?f+this.unpin<=n.top?!1:"bottom":t-o>=f+s?!1:"bottom";var r=null==this.affixed,a=r?f:n.top,h=r?s:i;return null!=e&&e>=f?"top":null!=o&&a+h>=t-o?"bottom":!1},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=this.$element.outerHeight(),o=this.options.offset,f=o.top,n=o.bottom,s=Math.max(t(document).outerHeight(),t(document.body).outerHeight());"object"!=typeof o&&(n=f=o),"function"==typeof f&&(f=o.top(this.$element)),"function"==typeof n&&(n=o.bottom(this.$element));var r=this.getState(s,i,f,n);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var a="affix"+(r?"-"+r:""),h=t.Event(a+".grid.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(a).trigger(a.replace("affix","affixed")+".grid.affix")}"bottom"==r&&this.$element.offset({top:s-i-n})}};var o=t.grid.affix||t.fn.affix;t.grid.affix=i,t.grid.affix.Constructor=e,t.fn.affix=i,t.fn.affix.Constructor=e,t.grid.affix.noConflict=function(){return t.grid.affix=o,this}}(jQuery);
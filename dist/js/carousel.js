+function(t){"use strict";function i(){var i=arguments,s=t(this).data("grid.carousel");if("object"==typeof i[0]){var o=i[0],r=t.extend({},e.DEFAULTS,o),n=t(r.carousel||this);return n.each(function(){t(this).data("grid.carousel",s=new e(this,r))})}"string"==typeof i[0]&&("undefined"!=typeof i[1]?s&&s[i[0]](i[1]):s&&s[i[0]]())}var e=function(i,e){this.$element=t(i),this.options=e,this.$forward=t('<span class="carousel forward"></span>'),this.$backward=t('<span class="carousel backward"></span>'),this.$reel=this.$element.children(".reel"),this.$items=this.$reel.children(".item"),this.pos=0,this.leftLimit=0,this.rightLimit=0,this.itemWidth=0,this.reelWidth=0,this.timerId=0,this.onTriggered=!1;this.options.controlHover||this.$element.addClass("controlsnothover"),this._init()};e.VERSION="2.0.0",e.DEFAULTS={speed:4,fadeIn:!0,fadeDelay:250,controlHover:!0,slideOn:"mouseover",pushItem:1},e.prototype.set_speed=function(t){return this.options.speed=t||this.options.speed,this._init(),this},e.prototype.set_fadeIn=function(t){return this.options.fadeIn=t||this.options.fadeIn,this._init(),this},e.prototype.set_fadeDelay=function(t){return this.options.fadeDelay=t||this.options.fadeDelay,this._init(),this},e.prototype.set_controlHover=function(t){return this.options.controlHover=t||this.options.controlHover,this._init(),this},e.prototype.set_slideOn=function(t){return this.options.slideOn=t||this.options.slideOn,this._init(),this},e.prototype._init=function(){var i=this;this.$forward.appendTo(this.$element).hide(),this.$backward.appendTo(this.$element).hide(),this.options.fadeIn&&(this.$items.addClass("loading"),t(window).on("scroll.grid.carousel",t.proxy(this._checkVisible,this)).trigger("scroll.grid.carousel")),"mouseover"==this.options.slideOn?(this.$forward.on("mouseenter.grid.carousel",t.proxy(this.slideRight,this)).on("mouseleave.grid.carousel",function(){window.clearInterval(i.timerId)}),this.$backward.on("mouseenter.grid.carousel",t.proxy(this.slideLeft,this)).on("mouseleave.grid.carousel",function(){window.clearInterval(i.timerId)})):"click"==this.options.slideOn&&(this.$forward.on("click.grid.carousel",t.proxy(this.pushRight,this)),this.$backward.on("click.grid.carousel",t.proxy(this.pushLeft,this))),t(window).load(function(){i.reelWidth=i.$reel[0].scrollWidth,i._onChange(),i._update(),t(window).resize(function(){i.reelWidth=i.$reel[0].scrollWidth,i._onChange(),i._update()}).trigger("resize")})},e.prototype._update=function(){this.pos=0,this.rightLimit=-1*this.reelWidth+this.$element.outerWidth(),this.leftLimit=0,this.options.controlHover||(this.rightLimit-=this.$forward.outerWidth(),this.leftLimit+=this.$backward.outerWidth()),this._updatePos()},e.prototype._updatePos=function(){this.$reel.animate({left:this.pos},this.options.speed)},e.prototype._onChange=function(){GRID.isPureTouchScreen()?(this.$reel.css("overflow-y","hidden").css("overflow-x","scroll").scrollLeft(0),this.$forward.hide(),this.$backward.hide()):(this.$reel.css("overflow","visible").scrollLeft(0),this.$forward.show(),this.$backward.show())},e.prototype._checkVisible=function(){var i=this,e=0,s=0;if(e=t(window).scrollTop()-this.$element.offset().top+t(window).height()-50,s=e-(t(window).height()+this.$element.outerHeight())+50,(e>0&&e<t(window).height()||0>s&&s>-t(window).height())&&!this.onTriggered){var o,r=this.$items.length-Math.ceil(this.$element.outerWidth()/this.itemWidth);o=setInterval(function(){var t=i.$items.filter(".loading"),e=t.first();return t.length<=r?(window.clearInterval(o),void i.$items.removeClass("loading")):void e.removeClass("loading")},i.options.fadeDelay),this.onTriggered=!0}},e.prototype.slideLeft=function(){var t=this;return this.timerId=window.setInterval(function(){t.pos+=t.options.speed,t.pos>=t.leftLimit&&(window.clearInterval(t.timerId),t.pos=t.leftLimit),t._updatePos()},10),this},e.prototype.slideRight=function(){var t=this;return this.timerId=window.setInterval(function(){t.pos-=t.options.speed,t.pos<=t.rightLimit&&(window.clearInterval(t.timerId),t.pos=t.rightLimit),t._updatePos()},10),this},e.prototype.pushLeft=function(){var t=this.$items.eq(0).outerWidth();return this.pos+=t*this.options.pushItem,this.pos>=this.leftLimit&&(this.pos=this.leftLimit),this._updatePos(),this},e.prototype.pushRight=function(){var t=this.$items.eq(0).outerWidth();return this.pos-=t*this.options.pushItem,this.pos<=this.rightLimit&&(this.pos=this.rightLimit),this._updatePos(),this};var s=t.grid.carousel||t.fn.carousel;t.grid.carousel=i,t.grid.carousel.Constructor=e,t.fn.carousel=i,t.fn.carousel.Constructor=e,t.grid.carousel.noConflict=function(){return t.grid.carousel=s,this}}(jQuery);
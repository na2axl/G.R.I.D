+function(t){"use strict";function o(){var o=arguments,e=t(this).data("grid.tooltip");if(o[0]=o[0]||{},"object"==typeof o[0]&&o[0].element){var n=o[0],s=t.extend({},i.DEFAULTS,n),r=t(s.element||this);return r.each(function(){if(s.multiple){var o=t(this).data("grid.tooltip.ns");o||(o=[]);var n=new i(this,s);o.push(n.namespace),t(this).data("grid.tooltip.ns",o)}t(this).data("grid.tooltip",e=new i(this,s))})}if(0===this.length){if("string"==typeof o[0]){var a=!0;switch(o[0]){case"setDefaults":t.extend(i.DEFAULTS,o[1]);break;default:a=!1}return a?!0:this}return this}if("string"==typeof o[0]){var l="#*$~&";return this.each(function(){var e=t(this).data("grid.tooltip"),i=e?t(this).data(e[0]):null;if(!i)throw new Error("You called G.R.I.D Tooltip's \""+o[0]+'" method on an uninitialized element');if("function"!=typeof i[o[0]])throw new Error('Unknown method .tooltip("'+o[0]+'")');var n=i[o[0]](o[1],o[2]);return n!==i?(l=n,!1):void 0}),"#*$~&"!==l?l:this}var p=[],d=o[0]&&"undefined"!=typeof o[0].multiple,f=d&&o[0].multiple||!d&&i.DEFAULTS.multiple,c=o[0]&&"undefined"!=typeof o[0].debug,h=c&&o[0].debug||!c&&i.DEFAULTS.debug;return this.each(function(){var e=!1,n=t(this).data("grid.tooltip.ns"),s=null;n?f?e=!0:h&&console.log('G.R.I.D Tooltip: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):e=!0,e&&(s=new i(this,t.extend({},i.DEFAULTS,o[0])),n||(n=[]),n.push(s.namespace),t(this).data("grid.tooltip.ns",n),t(this).data(s.namespace,s)),p.push(s)})}function e(o,e){return t.each(o,function(t){return"undefined"==typeof e[t]||o[t]!==e[t]?!1:void 0}),!0}var i=function(o,e){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=t(o),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=t.extend({},i.DEFAULTS,e),this.mouseIsOverProxy=!1,this.namespace="tooltip-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()};i.VERSION="2.0.0",i.DEFAULTS={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(){},functionBefore:function(t,o){o()},functionReady:function(){},functionAfter:function(){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltip-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltip-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},i.prototype={_init:function(){var o=this;if(document.querySelector){var e=null;void 0===o.$el.data("tooltip-initialTitle")&&(e=o.$el.attr("title"),void 0===e&&(e=null),o.$el.data("tooltip-initialTitle",e)),o._content_set(null!==o.options.content?o.options.content:e);var i=o.options.functionInit.call(o.$el,o.$el,o.Content);"undefined"!=typeof i&&o._content_set(i),o.$el.removeAttr("title").addClass("tooltipstered"),!GRID.isTouchScreen()&&o.options.iconDesktop||GRID.isTouchScreen()&&o.options.iconTouch?("string"==typeof o.options.icon?(o.$elProxy=t('<span class="'+o.options.iconTheme+'"></span>'),o.$elProxy.text(o.options.icon)):o.$elProxy=o.options.iconCloning?o.options.icon.clone(!0):o.options.icon,o.$elProxy.insertAfter(o.$el)):o.$elProxy=o.$el,"hover"==o.options.trigger?(o.$elProxy.on("mouseenter."+o.namespace,function(){(!GRID.isPureTouchScreen()||o.options.touchDevices)&&(o.mouseIsOverProxy=!0,o._show())}).on("mouseleave."+o.namespace,function(){(!GRID.isPureTouchScreen()||o.options.touchDevices)&&(o.mouseIsOverProxy=!1)}),GRID.isTouchScreen()&&o.options.touchDevices&&o.$elProxy.on("touchstart."+o.namespace,function(){o._showNow()})):"click"==o.options.trigger&&o.$elProxy.on("click."+o.namespace,function(){(!GRID.isPureTouchScreen()||o.options.touchDevices)&&o._show()})}},_show:function(){var t=this;"shown"!=t.Status&&"appearing"!=t.Status&&(t.options.delay?t.timerShow=setTimeout(function(){("click"==t.options.trigger||"hover"==t.options.trigger&&t.mouseIsOverProxy)&&t._showNow()},t.options.delay):t._showNow())},_showNow:function(o){var e=this;e.options.functionBefore.call(e.$el,e.$el,function(){if(e.enabled&&null!==e.Content){o&&e.callbacks.show.push(o),e.callbacks.hide=[],clearTimeout(e.timerShow),e.timerShow=null,clearTimeout(e.timerHide),e.timerHide=null,e.options.onlyOne&&t(".tooltipstered").not(e.$el).each(function(o,e){var i=t(e),n=i.data("grid.tooltip");t.each(n,function(t,o){var e=i.data(o),n=e.status(),s=e.option("autoClose");"hidden"!==n&&"disappearing"!==n&&s&&e.hide()})});var i=function(){e.Status="shown",t.each(e.callbacks.show,function(t,o){o.call(e.$el)}),e.callbacks.show=[]};if("hidden"!==e.Status){var n=0;"disappearing"===e.Status?(e.Status="appearing",GRID.browserSupportsTransitions()?(e.$tooltip.clearQueue().removeClass("tooltip-dying").addClass("tooltip-"+e.options.animation+"-show"),e.options.speed>0&&e.$tooltip.delay(e.options.speed),e.$tooltip.queue(i)):e.$tooltip.stop().fadeIn(i)):"shown"===e.Status&&i()}else{e.Status="appearing";var n=e.options.speed;e.bodyOverflowX=t("body").css("overflow-x"),t("body").css("overflow-x","hidden");var s="tooltip-"+e.options.animation,r="-webkit-transition-duration: "+e.options.speed+"ms; -webkit-animation-duration: "+e.options.speed+"ms; -moz-transition-duration: "+e.options.speed+"ms; -moz-animation-duration: "+e.options.speed+"ms; -o-transition-duration: "+e.options.speed+"ms; -o-animation-duration: "+e.options.speed+"ms; -ms-transition-duration: "+e.options.speed+"ms; -ms-animation-duration: "+e.options.speed+"ms; transition-duration: "+e.options.speed+"ms; animation-duration: "+e.options.speed+"ms;",a=e.options.minWidth?"min-width:"+Math.round(e.options.minWidth)+"px;":"",l=e.options.maxWidth?"max-width:"+Math.round(e.options.maxWidth)+"px;":"",p=e.options.interactive?"pointer-events: auto;":"";if(e.$tooltip=t('<div class="tooltip-base '+e.options.theme+'" style="'+a+" "+l+" "+p+" "+r+'"><div class="tooltip-content"></div></div>'),GRID.browserSupportsTransitions()&&e.$tooltip.addClass(s),e._content_insert(),e.$tooltip.appendTo("body"),e.reposition(),e.options.functionReady.call(e.$el,e.$el,e.$tooltip),GRID.browserSupportsTransitions()?(e.$tooltip.addClass(s+"-show"),e.options.speed>0&&e.$tooltip.delay(e.options.speed),e.$tooltip.queue(i)):e.$tooltip.css("display","none").fadeIn(e.options.speed,i),e._interval_set(),t(window).on("scroll."+e.namespace+" resize."+e.namespace,function(){e.reposition()}),e.options.autoClose)if(t("body").off("."+e.namespace),"hover"==e.options.trigger){if(GRID.isTouchScreen()&&setTimeout(function(){t("body").on("touchstart."+e.namespace,function(){e.hide()})},0),e.options.interactive){GRID.isTouchScreen()&&e.$tooltip.on("touchstart."+e.namespace,function(t){t.stopPropagation()});var d=null;e.$elProxy.add(e.$tooltip).on("mouseleave."+e.namespace+"-autoClose",function(){clearTimeout(d),d=setTimeout(function(){e.hide()},e.options.interactiveTolerance)}).on("mouseenter."+e.namespace+"-autoClose",function(){clearTimeout(d)})}else e.$elProxy.on("mouseleave."+e.namespace+"-autoClose",function(){e.hide()});e.options.hideOnClick&&e.$elProxy.on("click."+e.namespace+"-autoClose",function(){e.hide()})}else"click"==e.options.trigger&&(setTimeout(function(){t("body").on("click."+e.namespace+" touchstart."+e.namespace,function(){e.hide()})},0),e.options.interactive&&e.$tooltip.on("click."+e.namespace+" touchstart."+e.namespace,function(t){t.stopPropagation()}))}e.options.timer>0&&(e.timerHide=setTimeout(function(){e.timerHide=null,e.hide()},e.options.timer+n))}})},_interval_set:function(){var o=this;o.checkInterval=setInterval(function(){if(0===t("body").find(o.$el).length||0===t("body").find(o.$elProxy).length||"hidden"==o.Status||0===t("body").find(o.$tooltip).length)("shown"==o.Status||"appearing"==o.Status)&&o.hide(),o._interval_cancel();else if(o.options.positionTracker){var i=o._repositionInfo(o.$elProxy),n=!1;e(i.dimension,o.elProxyPosition.dimension)&&("fixed"===o.$elProxy.css("position")?e(i.position,o.elProxyPosition.position)&&(n=!0):e(i.offset,o.elProxyPosition.offset)&&(n=!0)),n||(o.reposition(),o.options.positionTrackerCallback.call(o,o.$el))}},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(t){"object"==typeof t&&null!==t&&this.options.contentCloning&&(t=t.clone(!0)),this.Content=t},_content_insert:function(){var t=this,o=this.$tooltip.find(".tooltip-content");"string"!=typeof t.Content||t.options.contentAsHTML?o.empty().append(t.Content):o.text(t.Content)},_update:function(t){var o=this;o._content_set(t),null!==o.Content?"hidden"!==o.Status&&(o._content_insert(),o.reposition(),o.options.updateAnimation&&(GRID.browserSupportsTransitions()?(o.$tooltip.css({width:"","-webkit-transition":"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+o.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltip-content-changing"),setTimeout(function(){"hidden"!=o.Status&&(o.$tooltip.removeClass("tooltip-content-changing"),setTimeout(function(){"hidden"!==o.Status&&o.$tooltip.css({"-webkit-transition":o.options.speed+"ms","-moz-transition":o.options.speed+"ms","-o-transition":o.options.speed+"ms","-ms-transition":o.options.speed+"ms",transition:o.options.speed+"ms"})},o.options.speed))},o.options.speed)):o.$tooltip.fadeTo(o.options.speed,.5,function(){"hidden"!=o.Status&&o.$tooltip.fadeTo(o.options.speed,1)}))):o.hide()},_repositionInfo:function(t){return{dimension:{height:t.outerHeight(!1),width:t.outerWidth(!1)},offset:t.offset(),position:{left:parseInt(t.css("left")),top:parseInt(t.css("top"))}}},hide:function(o){var e=this;o&&e.callbacks.hide.push(o),e.callbacks.show=[],clearTimeout(e.timerShow),e.timerShow=null,clearTimeout(e.timerHide),e.timerHide=null;var i=function(){t.each(e.callbacks.hide,function(t,o){o.call(e.$el)}),e.callbacks.hide=[]};if("shown"==e.Status||"appearing"==e.Status){e.Status="disappearing";var n=function(){e.Status="hidden","object"==typeof e.Content&&null!==e.Content&&e.Content.detach(),e.$tooltip.remove(),e.$tooltip=null,t(window).off("."+e.namespace),t("body").off("."+e.namespace).css("overflow-x",e.bodyOverflowX),t("body").off("."+e.namespace),e.$elProxy.off("."+e.namespace+"-autoClose"),e.options.functionAfter.call(e.$el,e.$el),i()};GRID.browserSupportsTransitions()?(e.$tooltip.clearQueue().removeClass("tooltip-"+e.options.animation+"-show").addClass("tooltip-dying"),e.options.speed>0&&e.$tooltip.delay(e.options.speed),e.$tooltip.queue(n)):e.$tooltip.stop().fadeOut(e.options.speed,n)}else"hidden"==e.Status&&i();return e},show:function(t){return this._showNow(t),this},update:function(t){return this.content(t)},content:function(t){return"undefined"==typeof t?this.Content:(this._update(t),this)},reposition:function(){function o(){var o=t(window).scrollLeft();0>I-o&&(n=I-o,I=o),I+a-o>s&&(n=I-(s+o-a),I=s+o-a)}function e(o,e){r.offset.top-t(window).scrollTop()-l-D-12<0&&e.indexOf("top")>-1&&(R=o),r.offset.top+r.dimension.height+l+12+D>t(window).scrollTop()+t(window).height()&&e.indexOf("bottom")>-1&&(R=o,_=r.offset.top-l-D-12)}var i=this;if(0!==t("body").find(i.$tooltip).length){i.$tooltip.css("width",""),i.elProxyPosition=i._repositionInfo(i.$elProxy);var n=null,s=t(window).width(),r=i.elProxyPosition,a=i.$tooltip.outerWidth(!1),l=(i.$tooltip.innerWidth()+1,i.$tooltip.outerHeight(!1));if(i.$elProxy.is("area")){var p=i.$elProxy.attr("shape"),d=i.$elProxy.parent().attr("name"),f=t('img[usemap="#'+d+'"]'),c=f.offset().left,h=f.offset().top,u=void 0!==i.$elProxy.attr("coords")?i.$elProxy.attr("coords").split(","):void 0;if("circle"==p){var m=parseInt(u[0]),v=parseInt(u[1]),g=parseInt(u[2]);r.dimension.height=2*g,r.dimension.width=2*g,r.offset.top=h+v-g,r.offset.left=c+m-g}else if("rect"==p){var m=parseInt(u[0]),v=parseInt(u[1]),w=parseInt(u[2]),$=parseInt(u[3]);r.dimension.height=$-v,r.dimension.width=w-m,r.offset.top=h+v,r.offset.left=c+m}else if("poly"==p){for(var y=0,b=0,x=0,T=0,S="even",C=0;C<u.length;C++){var P=parseInt(u[C]);"even"==S?(P>x&&(x=P,0===C&&(y=x)),y>P&&(y=P),S="odd"):(P>T&&(T=P,1==C&&(b=T)),b>P&&(b=P),S="even")}r.dimension.height=T-b,r.dimension.width=x-y,r.offset.top=h+b,r.offset.left=c+y}else r.dimension.height=f.outerHeight(!1),r.dimension.width=f.outerWidth(!1),r.offset.top=h,r.offset.left=c}var I=0,k=0,_=0,D=parseInt(i.options.offsetY),O=parseInt(i.options.offsetX),R=i.options.position;if("top"==R){var A=r.offset.left+a-(r.offset.left+r.dimension.width);I=r.offset.left+O-A/2,_=r.offset.top-l-D-12,o(),e("bottom","top")}if("top-left"==R&&(I=r.offset.left+O,_=r.offset.top-l-D-12,o(),e("bottom-left","top-left")),"top-right"==R&&(I=r.offset.left+r.dimension.width+O-a,_=r.offset.top-l-D-12,o(),e("bottom-right","top-right")),"bottom"==R){var A=r.offset.left+a-(r.offset.left+r.dimension.width);I=r.offset.left-A/2+O,_=r.offset.top+r.dimension.height+D+12,o(),e("top","bottom")}if("bottom-left"==R&&(I=r.offset.left+O,_=r.offset.top+r.dimension.height+D+12,o(),e("top-left","bottom-left")),"bottom-right"==R&&(I=r.offset.left+r.dimension.width+O-a,_=r.offset.top+r.dimension.height+D+12,o(),e("top-right","bottom-right")),"left"==R){I=r.offset.left-O-a-12,k=r.offset.left+O+r.dimension.width+12;var G=r.offset.top+l-(r.offset.top+r.dimension.height);if(_=r.offset.top-G/2-D,0>I&&k+a>s){var F=2*parseFloat(i.$tooltip.css("border-width")),H=a+I-F;i.$tooltip.css("width",H+"px"),l=i.$tooltip.outerHeight(!1),I=r.offset.left-O-H-12-F,G=r.offset.top+l-(r.offset.top+r.dimension.height),_=r.offset.top-G/2-D}else 0>I&&(I=r.offset.left+O+r.dimension.width+12,n="left")}if("right"==R){I=r.offset.left+O+r.dimension.width+12,k=r.offset.left-O-a-12;var G=r.offset.top+l-(r.offset.top+r.dimension.height);if(_=r.offset.top-G/2-D,I+a>s&&0>k){var F=2*parseFloat(i.$tooltip.css("border-width")),H=s-I-F;i.$tooltip.css("width",H+"px"),l=i.$tooltip.outerHeight(!1),G=r.offset.top+l-(r.offset.top+r.dimension.height),_=r.offset.top-G/2-D}else I+a>s&&(I=r.offset.left-O-a-12,n="right")}if(i.options.arrow){var M="tooltip-arrow-"+R;if(i.options.arrowColor.length<1)var E=i.$tooltip.css("background-color");else var E=i.options.arrowColor;if(n?"left"==n?(M="tooltip-arrow-right",n=""):"right"==n?(M="tooltip-arrow-left",n=""):n="left:"+Math.round(n)+"px;":n="","top"==R||"top-left"==R||"top-right"==R)var L=parseFloat(i.$tooltip.css("border-bottom-width")),W=i.$tooltip.css("border-bottom-color");else if("bottom"==R||"bottom-left"==R||"bottom-right"==R)var L=parseFloat(i.$tooltip.css("border-top-width")),W=i.$tooltip.css("border-top-color");else if("left"==R)var L=parseFloat(i.$tooltip.css("border-right-width")),W=i.$tooltip.css("border-right-color");else if("right"==R)var L=parseFloat(i.$tooltip.css("border-left-width")),W=i.$tooltip.css("border-left-color");else var L=parseFloat(i.$tooltip.css("border-bottom-width")),W=i.$tooltip.css("border-bottom-color");L>1&&L++;var U="";if(0!==L){var z="",N="border-color: "+W+";";-1!==M.indexOf("bottom")?z="margin-top: -"+Math.round(L)+"px;":-1!==M.indexOf("top")?z="margin-bottom: -"+Math.round(L)+"px;":-1!==M.indexOf("left")?z="margin-right: -"+Math.round(L)+"px;":-1!==M.indexOf("right")&&(z="margin-left: -"+Math.round(L)+"px;"),U='<span class="tooltip-arrow-border" style="'+z+" "+N+';"></span>'}i.$tooltip.find(".tooltip-arrow").remove();var X='<div class="'+M+' tooltip-arrow" style="'+n+'">'+U+'<span style="border-color:'+E+';"></span></div>';i.$tooltip.append(X)}i.$tooltip.css({top:Math.round(_)+"px",left:Math.round(I)+"px"})}return i},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var o=this;o.hide(),o.$el[0]!==o.$elProxy[0]&&o.$elProxy.remove(),o.$el.removeData(o.namespace).off("."+o.namespace);var e=o.$el.data("grid.tooltip");if(1===e.length){var i=null;"previous"===o.options.restoration?i=o.$el.data("tooltip-initialTitle"):"current"===o.options.restoration&&(i="string"==typeof o.Content?o.Content:t("<div></div>").append(o.Content).html()),i&&o.$el.attr("title",i),o.$el.removeClass("tooltipstered").removeData("grid.tooltip").removeData("tooltip-initialTitle")}else e=t.grep(e,function(t){return t!==o.namespace}),o.$el.data("grid.tooltip",e);return o},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(t,o){return"undefined"==typeof o?this.options[t]:(this.options[t]=o,this)},status:function(){return this.Status}};var n=t.grid.tooltip||t.fn.tooltip;t.grid.tooltip=o,t.grid.tooltip.Constructor=i,t.fn.tooltip=o,t.fn.tooltip.Constructor=i,t.grid.tooltip.noConflict=function(){return t.grid.tooltip=n,this}}(jQuery);